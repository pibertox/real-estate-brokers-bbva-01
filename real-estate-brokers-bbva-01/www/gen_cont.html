<!DOCTYPE html>
<html lang="es-MX">

<head>
    <title>Corredores Inmobiliarios</title>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="lang" content="es-MX">
    <meta name="resource-type" content="document">
    <meta name="global" content="distribution">
    <meta name="robots" content="index, follow">
    <meta name="author" content="BBVA">
    <link rel="icon" type="image/png" href="images/favicon/16x16.png" sizes="16x16" />
    <link rel="icon" type="image/png" href="images/favicon/96x96.png" sizes="96x96" />
    <link rel="icon" type="image/png" href="images/favicon/192x192.png" sizes="92x92" />
    <link rel="icon" href="images/favicon/favicon.ico" type="image/x-icon" />
    <meta name="description" lang="es-MX" content="Con Seguro de Vida Bancomer garantiza el futuro de tu familia. Contamos con opciones de pago y flexibilidad sobre el monto asegurado.">
    <meta name="keywords" lang="es-MX" content="Seguro de vida bancomer, seguros bancomer, bbva bancomer">
    <link rel="stylesheet" href="./css/bbva.fonts.lc-20180523-153647-lc.min.css">
    <link rel="stylesheet" href="./css/bbva.publish.lc-20180524-153648-lc.min.css">
    <link rel="stylesheet" href="./css/style.css">
    <script src="js/jquery3.3.1.min.js"></script>
    <script src="js/bbva.publish.lc-20180524-153648-lc.min.js"></script>

</head>

<body itemscope="" itemtype="http://schema.org/WebPage">
    <div class="general-wrapper">
        <header class="header__base wrapper">
            <div class="cookies">
            </div>
            <a class="skip2content" tab-index="0" href="#main" aria-label="Ir al contenido principal">Ir al contenido principal</a>
            <nav class="header__container background--navy" aria-label="BBVA Bancomer | Tarjetas, Créditos, Hipotecas, Cuentas, Seguros, Nominas, Portabilidad" data-component="header" data-dl-component="" data-dl-component-name="header" data-dl-component-type="bbva/pwebs/components/par/header"
                data-dl-component-id="content_bancomer_es_personas_productos_seguros_seguro-de-vida_jcr:content_header" data-component-id="09f2e30b-88e4-4ffb-8dab-7786f861557b">

                <div class="header__main container">
                    <div class="header__logo" itemscope="">
                        <a itemscope="url" class="header__logo__link" href="#" aria-label="Home Personas BBVA Bancomer" title="BBVA Bancomer | Tarjetas, Créditos, Hipotecas, Cuentas, Seguros, Nominas, Portabilidad">
                            <img src="images/logo/logo-bbva-bancomer-v1.svg" sizes="(min-width: 900px) 20vw, 50vw" itemprop="logo" class="header__image " alt="BBVA Bancomer | Tarjetas, Créditos, Hipotecas, Cuentas, Seguros, Nominas, Portabilidad">
                        </a>
                    </div>
                    <div class="header__mainNavigation" itemscope="" itemtype="https://schema.org/SiteNavigationElement">
                        <nav class="mainNavigation__base" data-dl-component-id="content_bancomer_es_personas_productos_seguros_seguro-de-vida_jcr:content_header_mainnavigation">
                            <ul class="mainNavigation__list">
                                <li itemprop="name" class="mainNavigation__item mainNavigation__item--active">
                                    <a itemprop="url" href="#" target="_self" class="mainNavigation__link __appTitle">Corredores Inmobiliarios</a>
                                </li>
                            </ul>
                        </nav>
                    </div>
                </div>
            </nav>
            <div class="access__container" id="access__container__content" aria-hidden="true">
                <div class="container">
                    <div class="access__control">
                        <button class="access__close" aria-label="cerrar" tabindex="-1"><i class="bbva-icon bbva-icon__2_022_close"></i></button>
                    </div>
                    <div class="access__content">
                    </div>
                </div>
            </div>
        </header>
        <div class="wrapper">
        </div>
        <main class="bbva--main wrapper" id="main">
            <section>
                <div class="loginsec">
                    <div class="containerLogin">
                        <h4>Genera nueva contraseña</h4>
                        <div class="">
                            <form name="form" action="#" class="form-gray" method="post" target="_top" id="formarea">
                                <br/>
                                <div class="form-group iconizer">
                                    <input class="form-control" name="password" type="password" id="password1" data-placeholder="Nueva contraseña" required autocomplete="off">
                                    <i data-change="#password1" class="ivisualize bbva-icon bbva-icon__2_003_visualize"></i>
                                    </input>
                                </div>
                                <div class="form-group-info">
                                    <div class="isec"><i class="bbva-icon bbva-icon__4_002_info blue1"></i></div>
                                    <div class="itextsec">La contraseña debe tener mínimo 10 caracteres; no debe tener letras o números de forma ascendente o descendente; ni más de 2 números o letras iguales o consecutivas, a partir de 3 caracteres.</div>
                                </div>
                                <div class="form-group-meter">
                                    <div class="meter-wrapper">
                                        <div class="meter-bar" id="meterbar" style="transform: skewX(-50deg) scaleX(0.0);"></div>
                                    </div>
                                    <i class="bbva-icon bbva-icon__2_007_lock"></i>
                                    <p>Fortaleza de la contraseña</p>
                                </div>
                                <div class="form-validation-group">
                                    <div class="form-group iconizer">
                                        <input class="form-control" name="password" type="password" id="password2" data-placeholder="Confirmar contraseña" required autocomplete="off">
                                        <i data-change="#password2" class="ivisualize bbva-icon bbva-icon__2_003_visualize"></i>
                                    </div>
                                    <div class="form-group-info">
                                        <div class="isec"><i class="bbva-icon"></i></div>
                                        <div class="itextsec"></div>
                                    </div>
                                </div>
                                <div class="actionsection">
                                    <div class="fpass">
                                        <a id="forgotpass" href="javascript:history.back()"><i class="bbva-icon bbva-icon__2_011_return"></i>Regresar</a>
                                    </div>
                                    <div class="submtbtn">
                                        <a href="#" target="_blank" rel="noopener noreferrer" title="Continuar" aria-label="Continuar" class="btn__basic btn__disabled" itemprop="url">
                                            <span aria-hidden="true">Continuar</span>
                                        </a>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        <div class="bbva--footer wrapper">
            <footer role="contentinfo" aria-label="Pie de página" itemscope="" itemtype="http://schema.org/Organization">
                <div>
                    <div>
                        <div class="footer__base" data-dl-component="" data-dl-component-name="footer" data-dl-component-type="bbva/pwebs/components/par/footer" data-dl-component-id="content_bancomer_es_personas_productos_seguros_seguro-de-vida_jcr:content_footer">
                            <div class="container">
                                <session class="footer__container">
                                    <a href="#" class="footer__logo__link" target="_self">
                                        <!-- title has to be given by the dialog -->
                                        <img src="images/logo/logo-bbva-bancomer-footer-negativo.svg" sizes="(min-width: 600px) 200px, 100vw" itemprop="logo" class="footer__logo " alt="BBVA Bancomer | Creando Oportunidades">
                                    </a>
                                    <p class="footer__copyright" itemprop="name">© 2018 BBVA Bancomer, S. A., Institución de Banca Múltiple, Grupo Financiero BBVA Bancomer.</p>
                                </session>
                            </div>
                        </div>
                    </div>
                </div>
            </footer>
        </div>
    </div>
    <script src="js/bundle.js"></script>
    <script>
        //icono mostrar contraseña
        $("i.ivisualize").click(function() {
            _this_i = $(this);
            _$inp = $(_this_i.attr("data-change"));
            if (_$inp.attr("type") == "password") {
                _$inp.attr("type", "text");
                _this_i.addClass("blue1");
            } else {
                _$inp.attr("type", "password");
                _this_i.removeClass("blue1");
            }
        });
    </script>
    <script>
        //Fortaleza de contraseña
        const expRegAscNum = /012|123|234|345|456|567|678|789/;
        const expRegDesNum = /987|876|765|654|543|432|321|210/;
        const expRegRepeat = /((.+)?)((.)\4\4)((.+)?)/;
        const expRegStrong = /(?=^.{10,}$)((?=.*\d)|(?=.*\W+))(?![.\n])(?=.*[A-Z])(?=.*[a-z]).*$/;
        var fn = {
            validatePassword: function(pass) {
                if (pass.length < 3) {
                    return 0;
                }
                if (pass.length < 10) {
                    return 1;
                }
                if (!expRegStrong.test(pass) || (expRegAscNum.test(pass) || expRegDesNum.test(pass) || expRegRepeat.test(pass))) {
                    return 2;
                }
                if (expRegStrong.test(pass)) {
                    return 3;
                }
            }
        }
        var metrics = {
            0: {
                "color": "#D8D8D8",
                "size": "0.1",
                "text": "Fortaleza de la contraseña"
            },
            1: {
                "color": "#F35E61",
                "size": "0.2",
                "text": "Tu contraseña no es segura"
            },
            2: {
                "color": "#F8CD51",
                "size": "0.5",
                "text": "Tu contraseña sigue sin ser segura"
            },
            3: {
                "color": "#48AE64",
                "size": "1.03",
                "text": "¡Tu contraseña es segura!"
            }
        }
        $("#password1").keyup(function() {
            result = metrics[fn.validatePassword($(this).val())];
            $('#meterbar').css({
                '-webkit-transform': 'skewX(-50deg) scaleX(' + result.size + ')',
                '-moz-transform': 'skewX(-50deg) scaleX(' + result.size + ')',
                '-ms-transform': 'skewX(-50deg) scaleX(' + result.size + ')',
                '-o-transform': 'skewX(-50deg) scaleX(' + result.size + ')',
                'transform': 'skewX(-50deg) scaleX(' + result.size + ')',
                'background': result.color
            });
            $(".form-group-meter .bbva-icon").css({
                'color': result.color
            });
            $(".form-group-meter p").text(result.text);
        });
    </script>
    <script>
        //habilitar - deshabilitar botón
        function checkInputs() {
            if (fn.validatePassword($("#password1").val() == 3) && $("#password2").val() != "") {
                $("a[title='Continuar']").addClass("btn__medium-blue");
                $("a[title='Continuar']").removeClass("btn__disabled");
                $("a[title='Continuar']").click(function(event) {
                    event.preventDefault();
                    if (fn.validatePassword($("#password1").val()) == 3) {
                        if ($("#password2").val() != $("#password1").val()) {
                            showInputError($("#password2"), "Las contraseñas no coinciden", {
                                "eventx": "keyup",
                                "validation": function() {
                                    return $("#password2").val() == $("#password1").val();
                                }
                            });
                            return;
                        } else {
                            //todo está bien
                            window.location.href = 'preg_seg.html';
                        }
                    }
                })
            }
        }
        $("#password1").keyup(checkInputs);
        $("#password2").keyup(checkInputs);
        $("a.btn__disabled").click(function(event) {
            event.preventDefault();
        });
    </script>
    <script>
        //error input
        function removeInputError(error_iDom, errorEvent) {
            e_in_parent = error_iDom.closest(".form-validation-group");
            e_in_parent.removeClass("haserror");
            e_i_text = e_in_parent.find(".itextsec");
            e_i_text.text(e_i_text.attr("data-oldtext"));

            e_icon_i = in_parent.find(".isec i.bbva-icon");
            e_icon_i.attr("class", e_icon_i.attr("data-oldclasses"));

            i_nputDOM.off(errorEvent, validateError);
        }

        function validateError(_vundoError, _iDom) {
            if (_vundoError.validation()) {
                removeInputError(_iDom, _vundoError.event);
            }
        }

        function showInputError(i_nputDOM, _textMessage, _undoError) {
            in_parent = i_nputDOM.closest(".form-validation-group");
            in_parent.addClass("haserror");
            i_text = in_parent.find(".itextsec")
            i_text.attr("data-oldtext", i_text.text());
            i_text.text(_textMessage);
            icon_i = in_parent.find(".isec i.bbva-icon");
            icon_i.attr("data-oldclasses", icon_i.attr("class", ));
            icon_i.attr("class", "bbva-icon bbva-icon__4_001_alert error");
            i_nputDOM.on(_undoError.event, validateError(_undoError, i_nputDOM));
        }

        showInputError($("#password2"), "Las contraseñas no coinciden", {
            event: "keyup",
            validation: function() {
                return $("#password2").val() == $("#password1").val();
            }
        });
    </script>
</body>

</html>